(this.webpackJsonpmatrix=this.webpackJsonpmatrix||[]).push([[0],{358:function(e,t,c){},363:function(e,t,c){},367:function(e,t,c){},369:function(e,t,c){},370:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(41),s=c.n(a),i=c(37),r=c(40),o=c(11),j=c(382),u=c(208),l=c.p+"static/media/Matrix.b4b8426d.png",b=c(383),d=c(384),O=c(101),h=c.n(O),x=c(20),p=c(154),m=c(155),f=c.n(m),v="acces_token";function g(e){localStorage.setItem(v,e)}var _=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,N=f.a.create({baseURL:_,headers:{"Content-type":"application/json"}}),k=localStorage.getItem(v)||"",w=f.a.create({baseURL:_,headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(k)}}),C="[auth] Finissh chcking login state",S="[auth] Login",E="[auth] Logout",y=c(198),A=c.n(y),P=function(){return{type:C}},I=function(e){return{type:S,payload:e}},T=function(){return{type:E}},D=c(207),L=c(138),R=(c(358),c(2));function q(){var e=Object(D.a)({initialValues:{Codigo:"",Password:""},validationSchema:L.b({Codigo:L.a("Debes ingresar un c\xf3digo v\xe1lido").required("El c\xf3digo es requerido"),Password:L.c().required("La contrase\xf1a es requerida")}),onSubmit:function(e){t(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(c){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.post("/login",e);case 3:n=t.sent,(a=n.data).res&&(g(a.acces_token),c(I({user:Object(x.a)({},a.user),res:a.res}))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),A.a.fire("Error","C\xf3digo\xa0o\xa0Contrase\xf1a\xa0inv\xe1lida","error");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}}),t=Object(i.b)();return Object(R.jsxs)(b.a,{className:"login-form",onSubmit:e.handleSubmit,children:[Object(R.jsx)("h1",{children:"Iniciar sesi\xf3n"}),Object(R.jsxs)("div",{className:"input-box",children:[Object(R.jsx)("input",{type:"text",name:"Codigo",value:e.values.Codigo,onChange:e.handleChange,required:!0}),Object(R.jsx)("label",{children:"Ingresa tu c\xf3digo"})]}),Object(R.jsxs)("div",{className:"input-box",children:[Object(R.jsx)("input",{name:"Password",value:e.values.Password,onChange:e.handleChange,type:"password",required:!0}),Object(R.jsx)("label",{children:"Ingresa tu contrase\xf1a"})]}),Object(R.jsx)(d.a,{type:"submit",className:"btn-submit",children:"Entrar"})]})}c(363);function U(){return Object(R.jsx)(j.a,{fluid:!0,className:"auth",children:Object(R.jsxs)("div",{className:"content",children:[Object(R.jsx)(u.a,{src:l}),Object(R.jsx)("div",{className:"container-form",children:Object(R.jsx)(q,{})})]})})}function F(e){e.history;var t=Object(o.g)(),c=t.acces_token,n=t.ruta;g(c),window.location.replace("/".concat(n))}var B=c(133),H=["isAuthenticated","component"],K=function(e){var t=e.isAuthenticated,c=e.component,n=Object(B.a)(e,H);return Object(R.jsx)(o.b,Object(x.a)(Object(x.a)({},n),{},{component:function(e){return t?Object(R.jsx)(c,Object(x.a)({},e)):Object(R.jsx)(o.a,{to:"/login"})}}))},M=["isAuthenticated","component"],V=function(e){var t=e.isAuthenticated,c=e.component,n=Object(B.a)(e,M);return Object(R.jsx)(o.b,Object(x.a)(Object(x.a)({},n),{},{component:function(e){return t?Object(R.jsx)(o.a,{to:"/"}):Object(R.jsx)(c,Object(x.a)({},e))}}))},W=c.p+"static/media/avatar.7a7185a6.png";c(367);function J(){var e=Object(i.c)((function(e){return e.auth})).user,t=Object(i.b)();return Object(R.jsxs)("div",{className:"sidebar",children:[Object(R.jsx)("div",{className:"logo-details",children:Object(R.jsx)(u.a,{src:l,width:"70%"})}),Object(R.jsxs)("ul",{className:"nav-links",children:[Object(R.jsxs)("li",{children:[Object(R.jsxs)(r.b,{to:"/",children:[Object(R.jsx)("i",{className:"far fa-tachometer-slowest"}),Object(R.jsx)("span",{className:"link_name",children:"Dashboard"})]}),Object(R.jsx)("ul",{className:"sub-menu blank",children:Object(R.jsx)("li",{children:Object(R.jsx)(r.b,{to:"/",className:"link_name",children:"Dashboard"})})})]}),Object(R.jsx)("li",{children:Object(R.jsxs)("div",{className:"profile-details",children:[Object(R.jsxs)("div",{className:"profile-content",children:[Object(R.jsx)(u.a,{src:W}),"s"]}),Object(R.jsxs)("div",{className:"name-job",children:[Object(R.jsx)("div",{className:"profile_name",children:e.descripcion}),Object(R.jsx)("div",{className:"job",children:e.codigo})]}),Object(R.jsx)("i",{onClick:function(){t((function(e){localStorage.clear(),e(T())}))},className:"fal fa-sign-out-alt"})]})})]})]})}function X(){return Object(R.jsx)("div",{children:Object(R.jsx)("h1",{children:"Inicio"})})}function z(){return Object(R.jsx)("div",{children:Object(R.jsx)("h1",{children:"Manual"})})}function G(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(J,{}),Object(R.jsx)("div",{className:"home-section",children:Object(R.jsxs)(o.d,{children:[Object(R.jsx)(o.b,{exact:!0,path:"/manual",component:z}),Object(R.jsx)(o.b,{exact:!0,patch:"/inicio",component:X}),Object(R.jsx)(o.a,{to:"/inicio"})]})})]})}function Q(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),c=t.checking,a=t.res;return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(h.a.mark((function e(t){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/validartoken");case 3:c=e.sent,n=c.data,t(I(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(P());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),c?Object(R.jsx)("h1",{children:"Cargando..."}):Object(R.jsx)(r.a,{children:Object(R.jsx)("div",{children:Object(R.jsxs)(o.d,{children:[Object(R.jsx)(V,{exact:!0,path:"/login",component:U,isAuthenticated:!!a}),Object(R.jsx)(o.b,{exact:!0,path:"/login/:acces_token/:ruta",component:F}),Object(R.jsx)(K,{path:"/",component:G,isAuthenticated:!!a})]})})})}var Y=c(91),Z=c(206),$={checking:!0},ee=Object(Y.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(x.a)(Object(x.a)(Object(x.a)({},e),t.payload),{},{checking:!1});case C:return Object(x.a)(Object(x.a)({},e),{},{checking:!1});case E:return{checking:!1};default:return e}}}),te="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.c,ce=Object(Y.d)(ee,te(Object(Y.a)(Z.a)));function ne(){return Object(R.jsx)(i.a,{store:ce,children:Object(R.jsx)(Q,{})})}c(368),c(369);s.a.render(Object(R.jsx)(ne,{}),document.getElementById("root"))}},[[370,1,2]]]);
//# sourceMappingURL=main.8f21235f.chunk.js.map