(this.webpackJsonpmatrix=this.webpackJsonpmatrix||[]).push([[0],{222:function(e,t,n){},390:function(e,t,n){},397:function(e,t,n){},411:function(e,t,n){},416:function(e,t,n){},418:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(33),o=n.n(c),s=n(82),i=n(43),u=n(14),b=n(446),l=n(240),j=n.p+"static/media/Matrix.b4b8426d.png",d=n(447),p=n(449),h=n(16),O=n(177),x=n(121),m=n.n(x),f=n(178),g=n.n(f),v="acces_token";function y(e){localStorage.setItem(v,e)}var w="http://matrixlav-back.lasamericas.com.co/api",C=g.a.create({baseURL:w,headers:{"Content-type":"application/json"}}),S=localStorage.getItem(v)||"",k=g.a.create({baseURL:w,headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(S)}}),T="[auth] Finissh chcking login state",N="[auth] Login",R="[auth] Logout",E=n(225),_=n.n(E),A=function(){return{type:T}},I=function(e){return{type:N,payload:e}},L=n(239),P=n(158),q=(n(390),n(3));function B(){var e=Object(L.a)({initialValues:{Codigo:"",Password:""},validationSchema:P.b({Codigo:P.a("Debes ingresar un c\xf3digo v\xe1lido").required("El c\xf3digo es requerido"),Password:P.c().required("La contrase\xf1a es requerida")}),onSubmit:function(e){t(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.post("/login",e);case 3:r=t.sent,(a=r.data).res&&(y(a.acces_token),n(I({user:Object(h.a)({},a.user),res:a.res}))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),_.a.fire("Error","C\xf3digo\xa0o\xa0Contrase\xf1a\xa0inv\xe1lida","error");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}}),t=Object(s.b)();return Object(q.jsxs)(d.a,{className:"login-form",onSubmit:e.handleSubmit,children:[Object(q.jsx)("h1",{children:"Iniciar sesi\xf3n"}),Object(q.jsxs)("div",{className:"input-box",children:[Object(q.jsx)("input",{type:"text",name:"Codigo",value:e.values.Codigo,onChange:e.handleChange,required:!0}),Object(q.jsx)("label",{children:"Ingresa tu c\xf3digo"})]}),Object(q.jsxs)("div",{className:"input-box",children:[Object(q.jsx)("input",{name:"Password",value:e.values.Password,onChange:e.handleChange,type:"password",required:!0}),Object(q.jsx)("label",{children:"Ingresa tu contrase\xf1a"})]}),Object(q.jsx)(p.a,{type:"submit",className:"btn-submit",children:"Entrar"})]})}n(397);function F(){return Object(q.jsx)(b.a,{fluid:!0,className:"auth",children:Object(q.jsxs)("div",{className:"content",children:[Object(q.jsx)(l.a,{src:j}),Object(q.jsx)("div",{className:"container-form",children:Object(q.jsx)(B,{})})]})})}function U(e){e.history;var t=Object(u.g)(),n=t.acces_token,r=t.ruta;y(n),window.location.replace("/".concat(r))}var D,H=n(10),M=["isAuthenticated","component"],W=function(e){var t=e.isAuthenticated,n=e.component,r=Object(H.a)(e,M);return Object(q.jsx)(u.b,Object(h.a)(Object(h.a)({},r),{},{component:function(e){return t?Object(q.jsx)(n,Object(h.a)({},e)):Object(q.jsx)(u.a,{to:"/login"})}}))},z=["isAuthenticated","component"],J=function(e){var t=e.isAuthenticated,n=e.component,r=Object(H.a)(e,z);return Object(q.jsx)(u.b,Object(h.a)(Object(h.a)({},r),{},{component:function(e){return t?Object(q.jsx)(u.a,{to:"/"}):Object(q.jsx)(n,Object(h.a)({},e))}}))},V=n(23),X=n(233),G=n(234),K=n.n(G),Q=n(448),Y=(n(411),function(e){return Object(q.jsx)("div",{className:"center",children:Object(q.jsxs)("div",{className:"lds-ripple",children:[Object(q.jsx)("div",{}),Object(q.jsx)("div",{})]})})}),Z=n(176),$=n(237),ee=n.n($),te=Object(q.jsx)(ee.a,{}),ne={indeterminate:function(e){return e}},re=Z.default.input(D||(D=Object(X.a)(["\n\theight: 32px;\n\twidth: 200px;\n\tborder-radius: 3px;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n\tborder: 1px solid #e5e5e5;\n\tpadding: 0 32px 0 16px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]))),ae=function(e){var t=e.filterText,n=e.onFilter;return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(re,{id:"search",type:"text",placeholder:"Filtrar por Tabopc","aria-label":"Search Input",value:t,onChange:n})})},ce={header:{style:{minHeight:"56px"}},headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:"gray"}},headCells:{style:{"&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:"gray"}}},cells:{style:{"&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:"gray"}}}},oe=function(){return Object(q.jsx)(Y,{})};var se=function(e){var t=Object(r.useState)(""),n=Object(V.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(!1),i=Object(V.a)(s,2),u=i[0],b=i[1],l=e.info.filter((function(e){return e.Tabopc&&e.Tabopc.toString().toLowerCase().includes(c.toLowerCase())})),j=a.a.useMemo((function(){return Object(q.jsx)(ae,{onFilter:function(e){return o(e.target.value)},onClear:function(){c&&(b(!u),o(""))},filterText:c})}),[c,u]);return Object(q.jsx)(K.a,Object(h.a)({progressComponent:Object(q.jsx)(oe,{}),selectableRowsComponent:Q.a,data:l,pagination:!0,selectableRowsComponentProps:ne,sortIcon:te,dense:!0,customStyles:ce,paginationResetDefaultPage:u,subHeader:!0,subHeaderComponent:j,persistTableHead:!0},e))},ie=(n(222),function(e){var t=Object(r.useState)([]),n=Object(V.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){fetch(e,{headers:{Authorization:"Bearer ".concat(localStorage.acces_token)}}).then((function(e){return e.json()})).then((function(e){return c(e.data)}))}),[e]),a}),ue={BASE_URL:"http://matrixlav-back.lasamericas.com.co/api"},be=function(e){return console.log(e)},le=function(){var e=Object(r.useState)([]),t=Object(V.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),o=Object(V.a)(c,2),s=o[0],u=o[1],b=ie(ue.BASE_URL+"/root/procesos/maestros-matrix/permisos");return Object(r.useEffect)((function(){var e=setTimeout((function(){a([{name:"Tabopc",selector:function(e){return e.Tabopc},sortable:!0},{name:"Tabtab",selector:function(e){return e.Tabtab},sortable:!0},{name:"Acciones",cell:function(e){return Object(q.jsx)(i.b,{to:"/root/procesos/maestros-matrix/editar-datos-matrix",children:Object(q.jsx)("button",{onClick:function(){return be(e.Tabtab)},children:"Ir"})})},ignoreRowClick:!0,allowOverflow:!0,button:!0}]),u(!1)}),2e3);return function(){return clearTimeout(e)}}),[]),{info:b,columns:n,pending:s,getTableName:be}};var je=function(){var e=le(),t=e.info,n=e.columns,r=e.pending,a=e.getTableName;return Object(q.jsxs)("section",{children:[Object(q.jsx)("nav",{className:"nav justify-content-center",children:Object(q.jsx)("li",{className:"nav-item",children:"Editar datos tabla"})}),Object(q.jsx)("div",{className:"container",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(se,{title:"Opciones",columns:n,info:t,progressPending:r,getTableName:a})}),Object(q.jsx)(i.b,{to:"/root/procesos/maestros-matrix/editar-datos-matrix",children:"Return"})]})})]})};function de(){return Object(q.jsx)("section",{children:Object(q.jsx)("div",{className:"home-section",children:Object(q.jsxs)(u.d,{children:[Object(q.jsx)(u.b,{exact:!0,patch:"/root/procesos/maestros-matrix",component:je}),Object(q.jsx)(u.b,{exact:!0,patch:"/root/procesos/maestros-matrix/editar-datos-matrix",component:je}),Object(q.jsx)(u.a,{to:"/root/procesos/maestros-matrix"})]})})})}function pe(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),n=t.checking,a=t.res;return Object(r.useEffect)((function(){e(function(){var e=Object(O.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/validartoken");case 3:n=e.sent,r=n.data,t(I(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(A());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(q.jsx)(Y,{}):Object(q.jsx)(i.a,{children:Object(q.jsx)("div",{children:Object(q.jsxs)(u.d,{children:[Object(q.jsx)(J,{exact:!0,path:"/login",component:F,isAuthenticated:!!a}),Object(q.jsx)(u.b,{exact:!0,path:"/login/:acces_token/:ruta/:wemp_pmla",component:U}),Object(q.jsx)(W,{path:"/",component:de,isAuthenticated:!!a})]})})})}var he=n(108),Oe=n(238),xe={checking:!0},me=Object(he.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(h.a)(Object(h.a)(Object(h.a)({},e),t.payload),{},{checking:!1});case T:return Object(h.a)(Object(h.a)({},e),{},{checking:!1});case R:return{checking:!1};default:return e}}}),fe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||he.c,ge=Object(he.d)(me,fe(Object(he.a)(Oe.a)));function ve(){return Object(q.jsx)(s.a,{store:ge,children:Object(q.jsx)(pe,{})})}n(415),n(416),n(417);o.a.render(Object(q.jsx)(ve,{}),document.getElementById("root"))}},[[418,1,2]]]);
//# sourceMappingURL=main.d3b1aaf2.chunk.js.map